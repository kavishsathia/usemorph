{
  "id": 17344781,
  "name": "[Morph] Hint Frequency Verification - Low Pass Rate",
  "type": "llm-observability alert",
  "query": "formula(\"query4 / query5\").last(\"5m\") < 0.7",
  "message": "ALERT: Morph AI Tutor - Hint Frequency Verification Quality Degraded\\n\\nStatus: {{#is_alert}}CRITICAL - Pass rate below 70%{{/is_alert}}{{#is_warning}}WARNING - Pass rate below 80%{{/is_warning}}\\n\\nCurrent Pass Rate: {{value}} ({{value}} Ã— 100%)\\nAlert Threshold: < 0.7 (70%)\\nWarning Threshold: < 0.8 (80%)\\n\\nImpact:\\n- AI tutor providing hints too frequently or infrequently\\n- Students not given adequate opportunity to struggle and learn\\n- Over-reliance on hints preventing independent problem-solving\\n- Degraded learning effectiveness\\n\\nEvaluation Details:\\nThis monitor tracks the Hint_Frequency_Verifier evaluation which ensures hints are provided 'sometimes' - after reasonable student attempts, not immediately.\\n\\nImmediate Actions:\\n1. Review recent traces where Hint_Frequency_Verifier failed\\n2. Analyze if prompt changes affected hint timing logic\\n3. Check if hints are being provided too early or too late\\n4. Verify the hint delivery threshold logic\\n5. Review evaluation criteria for potential calibration issues\\n\\nRunbook: https://github.com/kavishsathia/usemorph/wiki/Hint-Frequency-Evaluation-Runbook\\n\\nRelated Resources:\\n- LLM Observability Dashboard: https://us5.datadoghq.com/llm\\n- Evaluation Trace Examples: {{trace_link}}\\n\\n{{#is_recovery}}RESOLVED: Hint Frequency Verification pass rate has recovered to {{value}}{{/is_recovery}}@incident-",
  "tags": ["application:morph", "monitor-type:evaluation"],
  "options": {
    "thresholds": {
      "critical": 0.7,
      "warning": 0.8
    },
    "enable_logs_sample": false,
    "notify_audit": false,
    "on_missing_data": "default",
    "include_tags": false,
    "variables": [
      {
        "data_source": "llm_observability",
        "name": "query4",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @evaluations.custom.Hint_Frequency_Verifier:pass"
        },
        "storage": "hot"
      },
      {
        "data_source": "llm_observability",
        "name": "query5",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @parent_id:undefined"
        }
      }
    ],
    "new_host_delay": 300,
    "groupby_simple_monitor": false
  },
  "priority": 2,
  "draft_status": "published"
}
